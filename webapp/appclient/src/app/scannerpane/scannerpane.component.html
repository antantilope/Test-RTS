
<div
    #paneElem
    ngDraggable
    ngResizable
    [rzHandles]="'n,e,s,w,se,sw,ne,nw'"
    [handle]="paneElem"
    class="scanner-pane"
>
    <div #paneHeader class="scanner-pane-header">
        <div>
            <strong>SCANNER</strong>
        </div>
        <div>
            <span class="close-btn" (click)="_pane.closeScannerPane()">
            </span>
        </div>
    </div>
    <div #paneBody *ngIf="_api.frameData !== null && _api.frameData.ship" class="scanner-pane-body">
        <div *ngIf="!_api.frameData.ship.scanner_online && !_api.frameData.ship.scanner_starting">
            <h2 style="color:rgb(182, 182, 182); font-style: italic;">SCANNER OFFLINE</h2>
        </div>
        <div *ngIf="_api.frameData.ship.scanner_starting">
            <h2>SCANNER STARTING...</h2>
        </div>
        <div *ngIf="_api.frameData.ship.scanner_online">
            <h3>MODE: {{ _api.frameData.ship.scanner_mode.toUpperCase() }}</h3>

            <button (click)="lockSelectUpClick()" class="lock-btn">⬆️</button>
            <button (click)="lockSelectDownClick()" class="lock-btn">⬇️</button>
            <button (click)="lockSelectClick()" class="lock-btn">LOCK</button>
            <button (click)="lockClearSelectClick()" class="lock-btn">CLEAR</button>

            <h4>Targets</h4>
            <table>
                <tr>
                    <th>DESIGNATOR</th>
                    <th>BEARING</th>
                    <th>DISTANCE</th>
                </tr>
                <ng-container *ngFor="let targ of _api.frameData.ship.scanner_data">
                    <tr [ngClass]="{'selected-target': targ.id === selectionCursor}">
                        <td>{{ targ.designator }}</td>
                        <td>{{ targ.relative_heading }}°</td>
                        <td>{{ targ.distance }} M</td>
                    </tr>
                </ng-container>
            </table>
        </div>
    </div>
</div>
